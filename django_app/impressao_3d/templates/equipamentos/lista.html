{% extends "base.html" %}

{% block title %}Equipamentos{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="mb-4">Equipamentos</h1>
    <a href="{% url 'equipamentos:criar' %}" class="btn btn-primary mb-3">
        <i class="bi bi-plus-lg"></i> Novo Equipamento
    </a>
    <table class="table table-dark table-striped align-middle">
        <thead>
            <th>Nome</th>
            <th>Modelo</th>
            <th>Tipo</th>
            <th>Fabricante</th>
            <th>Data de aquisição</th>
            <th>Custo aquisição</th>
            <th>Custo manutenção</th>
            <th>Potência (W)</th>
            <th>Vida útil (anos)</th>
            <th>Ações</th>            
        </thead>
            <tbody>
        {% for e in equipamentos %}
        <tr>
            <td>{{ e.nome }}</td>
            <td>{{ e.modelo }}</td>
            <td>{{ e.tipo }}</td>
            <td>
                {% if e.fabricante %}
                    {{ e.fabricante.nome }}
                {% else %}
                    -
                {% endif %}
            </td>
            <td>{{ e.data_aquisicao|date:"d/m/Y" }}</td>
            <td>{{ e.custo_aquisicao|floatformat:2 }}</td>
            <td>{{ e.custo_manutencao_mensal|floatformat:2 }}</td>
            <td>{{ e.potencia_watts|floatformat:2 }}</td>
            <td>{{ e.vida_util_anos }}</td>
            <td>
                <a href="{% url 'equipamentos:editar' e.id %}" class="edit">Editar</a>
                <a href="{% url 'equipamentos:deletar' e.id %}" class="delete" onclick="return confirm('Excluir este equipamento?')">Excluir</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="10">Nenhum equipamento cadastrado.</td></tr>
        {% endfor %}
    </tbody>
    </table>
 
    
</div>

<a href="{% url 'core:home' %}" class="btn">← Voltar</a>
{% endblock %}


